---
/**
 * OtherCitiesInState Component
 * Displays other cities in the same state with gym counts
 * Improves internal linking for SEO
 */
interface Props {
  currentState: string;
  currentCity: string;
  stateSlug: string;
  cities: Array<{ name: string; count: number; slug: string }>;
}

const { currentState, currentCity, stateSlug, cities } = Astro.props;

// Don't render if there are 2 or fewer other cities
const shouldRender = cities.length > 2;
---

{shouldRender && (
<section class="mb-12 bg-white rounded-lg shadow-md p-8">
  <h2 class="text-3xl font-bold text-granite mb-2">
    Other Cities in {currentState}
  </h2>
  <p class="text-gray-700 mb-6">
    Find climbing gyms in nearby cities across {currentState}
  </p>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {cities.map((city) => (
      <a
        href={`/${stateSlug}/${city.slug}/`}
        class="flex items-center gap-3 p-4 bg-sage/10 rounded-lg hover:bg-sage/20 transition-all hover:shadow-md group"
      >
        <svg
          class="w-6 h-6 text-sage flex-shrink-0"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
          />
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
          />
        </svg>
        <div class="flex-1">
          <h3 class="font-semibold text-granite group-hover:text-sage">
            {city.name}
          </h3>
          <p class="text-sm text-gray-600">
            {city.count}{city.count === 1 ? ' Gym' : ' Gyms'}
          </p>
        </div>
        <svg
          class="w-5 h-5 text-gray-400 group-hover:text-sage transition-colors"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"
          />
        </svg>
      </a>
    ))}
  </div>
</section>
)}
