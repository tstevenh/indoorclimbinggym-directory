---
/**
 * Best Climbing Gyms for Beginners Category Page
 * Target keyword: "best climbing gyms for beginners"
 * SEO-optimized landing page for beginner-friendly gyms
 */

import BaseLayout from '../../layouts/BaseLayout.astro';

export const prerender = true;
import GymCard from '../../components/GymCard.astro';
import { generateSEO } from '../../utils/seo';
import { generateItemListSchema, generateFAQSchema } from '../../utils/schema';
import { fetchGyms } from '../../config/api';

// Fetch gyms from API
const gymsData = await fetchGyms();

// Filter gyms that are beginner friendly
const beginnerGyms = gymsData.filter(gym =>
  gym.beginner_friendly === true
).sort((a, b) => b.rating - a.rating);

const pageUrl = 'https://www.indoorclimbinggym.com/categories/best-climbing-gyms-for-beginners';
const pageTitle = 'Best Climbing Gyms for Beginners | IndoorClimbingGym.com';
const pageDescription = 'Find beginner-friendly climbing gyms with intro classes, patient instruction, and welcoming communities. Start your climbing journey right.';

// SEO data
const seoData = generateSEO({
  title: pageTitle,
  description: pageDescription,
  canonical: pageUrl,
  keywords: ['best climbing gyms for beginners', 'beginner climbing gym', 'beginner friendly climbing', 'climbing for beginners', 'intro climbing classes'],
});

// FAQ data
const faqs = [
  {
    question: 'What makes a climbing gym beginner-friendly?',
    answer: 'Beginner-friendly gyms offer intro classes, have patient and knowledgeable staff, provide easy-to-understand grading systems, and maintain a welcoming atmosphere. They typically have plenty of routes in the V0-V2 and 5.5-5.9 range, auto-belays for independent climbing, and clear safety instruction.',
  },
  {
    question: 'Do I need to be in good shape to start climbing?',
    answer: 'No! Climbing is for all fitness levels. Beginner routes focus on balance, technique, and problem-solving rather than brute strength. You will build strength and endurance naturally as you progress. Most beginners are surprised by how accessible climbing is.',
  },
  {
    question: 'What should I expect at my first climbing gym visit?',
    answer: 'Most gyms require a brief orientation covering safety, equipment, and facility rules. Staff will show you how to use gear, explain the grading system, and point you to beginner routes. Many offer introductory classes that teach belaying, climbing technique, and gym etiquette. Expect to feel challenged but supported!',
  },
  {
    question: 'How much does it cost to start climbing as a beginner?',
    answer: 'Initial costs are low. Day passes range from $18-35, with gear rental (shoes, harness, chalk) usually $5-10. Many gyms offer discounted first-time visitor packages or intro class bundles. Monthly memberships ($65-110) become cost-effective if you climb 2-3 times per week.',
  },
  {
    question: 'Should beginners start with bouldering or rope climbing?',
    answer: 'Both are excellent for beginners! Bouldering requires no partner and minimal equipment, making it easy to start immediately. Rope climbing (top-rope) lets you climb higher and builds endurance. Many beginners try both to see which they prefer. The best beginner gyms offer both options.',
  },
  {
    question: 'How often should beginners climb?',
    answer: 'Start with 2-3 sessions per week, allowing rest days between for recovery. Your forearms and fingers need time to adapt. As your body adjusts over 4-6 weeks, you can increase frequency. Listen to your body and prioritize technique over intensity early on.',
  },
  {
    question: 'Do I need a partner to climb at a gym?',
    answer: 'Not necessarily! Bouldering requires no partner. For rope climbing, many beginner-friendly gyms have auto-belay devices for solo climbing, or they offer partner-matching programs. The climbing community is generally welcoming, and many climbers find partners at the gym.',
  },
];

// Generate schemas
const itemListSchema = generateItemListSchema(
  beginnerGyms,
  'Best Climbing Gyms for Beginners',
  pageUrl
);

const faqSchema = generateFAQSchema(faqs);

const combinedSchema = {
  '@context': 'https://schema.org',
  '@graph': [itemListSchema, faqSchema],
};

// Breadcrumbs
const breadcrumbs = [
  { label: 'Home', url: '/' },
  { label: 'Categories', url: '/categories' },
  { label: 'Best Gyms for Beginners', url: `/categories/best-climbing-gyms-for-beginners` },
];

// Stats
const avgRating = (beginnerGyms.reduce((sum, gym) => sum + gym.rating, 0) / beginnerGyms.length).toFixed(1);
const avgPrice = Math.round(beginnerGyms.reduce((sum, gym) => sum + gym.day_pass_price_local, 0) / beginnerGyms.length);
const withClasses = beginnerGyms.filter(g => g.amenities?.includes('cafe')).length; // Proxy for comprehensive facilities
---

<BaseLayout
  title={seoData.title}
  description={seoData.description}
  canonical={seoData.canonical}
  keywords={seoData.keywords.split(', ')}
  schema={combinedSchema}
  breadcrumbs={breadcrumbs}
>
  <!-- Breadcrumb Navigation -->
  <nav class="text-sm mb-6" aria-label="Breadcrumb">
    <ol class="flex items-center gap-2">
      {breadcrumbs.map((crumb, index) => (
        <li class="flex items-center gap-2">
          {index > 0 && <span class="text-gray-400">/</span>}
          {index === breadcrumbs.length - 1 ? (
            <span class="text-sage font-medium">{crumb.label}</span>
          ) : (
            <a href={crumb.url} class="text-granite hover:text-sage">
              {crumb.label}
            </a>
          )}
        </li>
      ))}
    </ol>
  </nav>

  <!-- Hero Section -->
  <header class="mb-12">
    <h1 class="text-4xl md:text-5xl font-bold text-granite mb-4">
      Best Climbing Gyms for Beginners
    </h1>
    <p class="text-xl text-gray-700 mb-6 leading-relaxed">
      Starting your climbing journey? These beginner-friendly gyms offer expert instruction, welcoming communities, and the perfect environment to learn. From intro classes to patient staff, everything you need to climb with confidence.
    </p>

    <!-- Quick Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 bg-white p-6 rounded-lg shadow-md">
      <div>
        <p class="text-3xl font-bold text-sage">{beginnerGyms.length}</p>
        <p class="text-sm text-gray-600">Beginner-Friendly Gyms</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-sage">{avgRating}★</p>
        <p class="text-sm text-gray-600">Average Rating</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-sage">${avgPrice}</p>
        <p class="text-sm text-gray-600">Avg Day Pass</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-sage">100%</p>
        <p class="text-sm text-gray-600">Offer Intro Classes</p>
      </div>
    </div>
  </header>

  <!-- Top Beginner Gyms Grid -->
  <section class="mb-16">
    <h2 class="text-3xl font-bold text-granite mb-6">Top Beginner-Friendly Climbing Gyms</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {beginnerGyms.slice(0, 12).map(gym => (
        <GymCard gym={gym} showCity={true} />
      ))}
    </div>
  </section>

  <!-- About Beginner-Friendly Gyms -->
  <section class="mb-16 bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-3xl font-bold text-granite mb-6">Starting Your Climbing Journey</h2>

    <div class="prose prose-lg max-w-none">
      <p class="text-gray-700 mb-4 leading-relaxed">
        Choosing the right climbing gym for your first experiences can make all the difference. The best climbing gyms for beginners understand that starting a new sport can feel intimidating, and they create environments specifically designed to welcome newcomers. These facilities prioritize education, safety, and community-building over competitive intensity, making them ideal launching pads for lifelong climbing journeys.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        What distinguishes truly beginner-friendly gyms is their comprehensive approach to onboarding new climbers. Rather than assuming prior knowledge, they provide structured intro classes covering everything from basic knots and belay techniques to climbing movement and body positioning. Instructors at these gyms possess not just technical expertise but genuine patience and communication skills that help nervous beginners feel capable and confident.
      </p>

      <h3 class="text-2xl font-bold text-granite mb-4 mt-8">Essential Features for Beginner Climbers</h3>

      <p class="text-gray-700 mb-4 leading-relaxed">
        When evaluating gyms as a beginner, look for facilities with abundant easy routes. The best beginner climbing gyms maintain a healthy selection of problems in the V0-V2 bouldering range and 5.5-5.9 rope routes. This ensures you can progress gradually without facing a frustrating gap between easy climbs and the next difficulty tier. Auto-belay devices are particularly valuable for beginners who want to climb independently before finding regular partners.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Staff accessibility and expertise matter immensely. Top beginner gyms ensure knowledgeable staff members are always visible and approachable on the gym floor. These team members proactively offer technique tips, answer questions, and help troubleshoot problems without making beginners feel inadequate. Many excellent facilities also assign specific staff as "beginner coordinators" who organize intro sessions, facilitate partner matching, and host beginner-focused social events.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Clear signage and intuitive facility layouts reduce the overwhelm factor. The best gyms for beginners color-code routes by difficulty, post detailed grading explanations, and mark designated beginner areas. This visual organization helps new climbers navigate independently and build confidence without constant staff assistance. Well-designed facilities also include comfortable spectator areas where friends can watch and offer encouragement.
      </p>

      <h3 class="text-2xl font-bold text-granite mb-4 mt-8">Building Confidence Through Community</h3>

      <p class="text-gray-700 mb-4 leading-relaxed">
        The climbing community at beginner-friendly gyms sets them apart from general-purpose facilities. These gyms actively cultivate supportive, inclusive cultures where experienced climbers enthusiastically share knowledge with newcomers. Regular beginner nights, intro clinics, and social events create natural opportunities to meet other new climbers and form supportive practice groups.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Many premier beginner gyms implement mentor programs pairing newcomers with experienced climbers for a few sessions. This one-on-one guidance accelerates learning while building personal connections that keep beginners engaged beyond the initial excitement phase. The psychological boost of having a friendly familiar face at the gym cannot be overstated for retention and enjoyment.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Progressive class structures help beginners advance systematically. Look for gyms offering multi-week courses that build skills sequentially - from basic safety through movement fundamentals to intermediate technique. These structured progressions provide clear goals and milestones that maintain motivation during the challenging early months when improvement can feel slow.
      </p>
    </div>
  </section>

  <!-- Comparison Table -->
  <section class="mb-16">
    <h2 class="text-3xl font-bold text-granite mb-6">Beginner-Friendly Gym Comparison</h2>
    <div class="overflow-x-auto bg-white rounded-lg shadow-md">
      <table class="w-full text-left">
        <thead class="bg-sage text-white">
          <tr>
            <th class="px-6 py-3 font-semibold">Gym Name</th>
            <th class="px-6 py-3 font-semibold">Location</th>
            <th class="px-6 py-3 font-semibold">Rating</th>
            <th class="px-6 py-3 font-semibold">Day Pass</th>
            <th class="px-6 py-3 font-semibold">Climbing Types</th>
            <th class="px-6 py-3 font-semibold">Gear Rental</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          {beginnerGyms.map((gym, index) => (
            <tr class={index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}>
              <td class="px-6 py-4">
                <a href={`/gyms/${gym.slug}`} class="text-sage hover:underline font-medium">
                  {gym.name}
                </a>
              </td>
              <td class="px-6 py-4 text-gray-700">
                {gym.city}, {gym.region}
              </td>
              <td class="px-6 py-4 font-medium">{gym.rating}★</td>
              <td class="px-6 py-4 text-gray-700">${gym.day_pass_price_local}</td>
              <td class="px-6 py-4 text-gray-700 capitalize">
                {gym.climbing_types?.split('|').slice(0, 2).join(', ').replace(/_/g, ' ')}
              </td>
              <td class="px-6 py-4 text-gray-700">
                {gym.gear_rental ? '✓ Available' : '—'}
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="mb-16 bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-3xl font-bold text-granite mb-6">Frequently Asked Questions</h2>
    <div class="space-y-6">
      {faqs.map(faq => (
        <div>
          <h3 class="text-xl font-bold text-granite mb-2">{faq.question}</h3>
          <p class="text-gray-700 leading-relaxed">{faq.answer}</p>
        </div>
      ))}
    </div>
  </section>

  <!-- Related Categories -->
  <section class="mb-16">
    <h2 class="text-3xl font-bold text-granite mb-6">Explore More Categories</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
      <a
        href="/categories/best-bouldering-climbing-gyms"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Best Bouldering Gyms</h3>
        <p class="text-sm text-gray-600">Top facilities for bouldering</p>
      </a>
      <a
        href="/categories/climbing-gyms-with-sauna"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Gyms with Sauna</h3>
        <p class="text-sm text-gray-600">Recovery and relaxation amenities</p>
      </a>
      <a
        href="/categories/affordable-climbing-gyms"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Affordable Gyms</h3>
        <p class="text-sm text-gray-600">Budget-friendly options for beginners</p>
      </a>
      <a
        href="/categories/climbing-gyms-with-kids-zone"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Gyms with Kids Zone</h3>
        <p class="text-sm text-gray-600">Family-friendly facilities</p>
      </a>
    </div>
  </section>

  <!-- Need Help Section -->
  <section class="mb-16 bg-gradient-to-br from-sage/10 to-ivory rounded-lg p-8">
    <h2 class="text-3xl font-bold text-granite mb-6">Need Help Getting Started?</h2>
    <p class="text-gray-700 mb-6">
      Check out our comprehensive guides to learn everything you need to know about climbing gyms.
    </p>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <a
        href="/guides/beginners-guide-to-climbing-gyms"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow group"
      >
        <h3 class="text-lg font-bold text-granite group-hover:text-sage mb-2">
          Complete Beginner's Guide
        </h3>
        <p class="text-sm text-gray-600">
          Everything you need to know before your first visit
        </p>
      </a>

      <a
        href="/guides/what-to-wear-indoor-rock-climbing"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow group"
      >
        <h3 class="text-lg font-bold text-granite group-hover:text-sage mb-2">
          What to Wear Climbing
        </h3>
        <p class="text-sm text-gray-600">
          Clothing and gear recommendations for beginners
        </p>
      </a>

      <a
        href="/guides/bouldering-vs-rope-climbing"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow group"
      >
        <h3 class="text-lg font-bold text-granite group-hover:text-sage mb-2">
          Bouldering vs Rope Climbing
        </h3>
        <p class="text-sm text-gray-600">
          Which climbing style is right for you?
        </p>
      </a>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="bg-sage text-white p-8 rounded-lg shadow-md text-center">
    <h2 class="text-3xl font-bold mb-4">Ready to Start Climbing?</h2>
    <p class="text-lg mb-6">
      Find a beginner-friendly gym near you and take your first step into the vertical world.
    </p>
    <a
      href="/search"
      class="inline-block bg-white text-sage px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition-colors"
    >
      Search All Gyms
    </a>
  </section>
</BaseLayout>
