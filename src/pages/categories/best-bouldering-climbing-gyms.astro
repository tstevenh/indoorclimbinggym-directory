---
/**
 * Best Bouldering Climbing Gyms Category Page
 * Target keyword: "best bouldering climbing gyms"
 * SEO-optimized landing page for bouldering-focused gyms
 */

import BaseLayout from '../../layouts/BaseLayout.astro';

export const prerender = true;
import GymCard from '../../components/GymCard.astro';
import { generateSEO } from '../../utils/seo';
import { generateItemListSchema, generateFAQSchema } from '../../utils/schema';
import { fetchGyms } from '../../config/api';

// Fetch gyms from API
const gymsData = await fetchGyms();

// Filter gyms that offer bouldering
const bouldingGyms = gymsData.filter(gym =>
  gym.climbing_types?.includes('bouldering')
).sort((a, b) => b.rating - a.rating); // Sort by rating

const pageUrl = 'https://www.indoorclimbinggym.com/categories/best-bouldering-climbing-gyms';
const pageTitle = 'Best Bouldering Climbing Gyms | IndoorClimbingGym.com';
const pageDescription = 'Discover the best bouldering climbing gyms across the US. Compare ratings, amenities, prices for top bouldering facilities.';

// SEO data
const seoData = generateSEO({
  title: pageTitle,
  description: pageDescription,
  canonical: pageUrl,
  keywords: ['best bouldering climbing gyms', 'bouldering gyms', 'indoor bouldering', 'bouldering facilities', 'rock climbing bouldering'],
});

// FAQ data
const faqs = [
  {
    question: 'What makes a bouldering gym different from a regular climbing gym?',
    answer: 'Bouldering gyms focus on shorter climbing routes (typically under 20 feet) without ropes or harnesses. Climbers use crash pads for protection. Bouldering emphasizes powerful, technical moves and problem-solving, making it ideal for beginners and experienced climbers alike.',
  },
  {
    question: 'Do I need special equipment for bouldering gyms?',
    answer: 'Most bouldering gyms only require climbing shoes and chalk, both of which are typically available for rent. Unlike rope climbing, you do not need a harness, belay device, or rope. This makes bouldering one of the most accessible forms of climbing.',
  },
  {
    question: 'Are bouldering gyms good for beginners?',
    answer: 'Absolutely! Bouldering is excellent for beginners because you can climb at your own pace without needing a partner or learning rope systems. Most bouldering gyms have problems ranging from V0 (easiest) to V10+ (expert), with plenty of beginner-friendly routes.',
  },
  {
    question: 'What should I look for in a quality bouldering gym?',
    answer: 'Look for gyms with regular route setting (weekly or biweekly), varied wall angles and features, good crash pad coverage, training facilities like hangboards and campus boards, and a welcoming community. Clean facilities and knowledgeable staff are also important.',
  },
  {
    question: 'How often do bouldering gyms change their routes?',
    answer: 'The best bouldering gyms typically reset routes every 1-2 weeks to keep the climbing fresh and challenging. This regular rotation ensures climbers always have new problems to solve and prevents routes from becoming too worn or predictable.',
  },
  {
    question: 'Can I boulder if I am not very strong?',
    answer: 'Yes! Bouldering builds strength gradually. Beginner problems (V0-V2) focus on balance, technique, and footwork rather than pure strength. As you climb regularly, you will naturally develop the strength and skills needed for harder problems.',
  },
  {
    question: 'What is the average cost of bouldering gym memberships?',
    answer: 'Day passes at bouldering gyms typically range from $18-$30, while monthly memberships average $70-$110 depending on location and amenities. Many gyms offer student discounts, punch cards, and family memberships for better value.',
  },
];

// Generate schemas
const itemListSchema = generateItemListSchema(
  bouldingGyms,
  'Best Bouldering Climbing Gyms',
  pageUrl
);

const faqSchema = generateFAQSchema(faqs);

// Combine schemas
const combinedSchema = {
  '@context': 'https://schema.org',
  '@graph': [itemListSchema, faqSchema],
};

// Breadcrumbs
const breadcrumbs = [
  { label: 'Home', url: '/' },
  { label: 'Categories', url: '/categories' },
  { label: 'Best Bouldering Gyms', url: `/categories/best-bouldering-climbing-gyms` },
];

// Stats
const avgRating = (bouldingGyms.reduce((sum, gym) => sum + gym.rating, 0) / bouldingGyms.length).toFixed(1);
const avgPrice = Math.round(bouldingGyms.reduce((sum, gym) => sum + gym.day_pass_price_local, 0) / bouldingGyms.length);
---

<BaseLayout
  title={seoData.title}
  description={seoData.description}
  canonical={seoData.canonical}
  keywords={seoData.keywords.split(', ')}
  schema={combinedSchema}
  breadcrumbs={breadcrumbs}
>
  <!-- Breadcrumb Navigation -->
  <nav class="text-sm mb-6" aria-label="Breadcrumb">
    <ol class="flex items-center gap-2">
      {breadcrumbs.map((crumb, index) => (
        <li class="flex items-center gap-2">
          {index > 0 && <span class="text-gray-400">/</span>}
          {index === breadcrumbs.length - 1 ? (
            <span class="text-sage font-medium">{crumb.label}</span>
          ) : (
            <a href={crumb.url} class="text-granite hover:text-sage">
              {crumb.label}
            </a>
          )}
        </li>
      ))}
    </ol>
  </nav>

  <!-- Hero Section -->
  <header class="mb-12">
    <h1 class="text-4xl md:text-5xl font-bold text-granite mb-4">
      Best Bouldering Climbing Gyms
    </h1>
    <p class="text-xl text-gray-700 mb-6 leading-relaxed">
      Discover the top bouldering climbing gyms across America. Whether you're new to bouldering or training for your next V-grade project, these facilities offer world-class terrain, expert route setting, and vibrant climbing communities.
    </p>

    <!-- Quick Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 bg-white p-6 rounded-lg shadow-md">
      <div>
        <p class="text-3xl font-bold text-sage">{bouldingGyms.length}</p>
        <p class="text-sm text-gray-600">Bouldering Gyms</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-sage">{avgRating}★</p>
        <p class="text-sm text-gray-600">Average Rating</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-sage">${avgPrice}</p>
        <p class="text-sm text-gray-600">Avg Day Pass</p>
      </div>
      <div>
        <p class="text-3xl font-bold text-sage">
          {bouldingGyms.filter(g => g.beginner_friendly).length}
        </p>
        <p class="text-sm text-gray-600">Beginner Friendly</p>
      </div>
    </div>
  </header>

  <!-- Top Bouldering Gyms Grid -->
  <section class="mb-16">
    <h2 class="text-3xl font-bold text-granite mb-6">Top Bouldering Climbing Gyms</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {bouldingGyms.slice(0, 12).map(gym => (
        <GymCard gym={gym} showCity={true} />
      ))}
    </div>
  </section>

  <!-- About Bouldering Gyms -->
  <section class="mb-16 bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-3xl font-bold text-granite mb-6">Why Choose a Bouldering Gym?</h2>

    <div class="prose prose-lg max-w-none">
      <p class="text-gray-700 mb-4 leading-relaxed">
        Bouldering has exploded in popularity over the past decade, and for good reason. Unlike traditional rope climbing, bouldering focuses on shorter, more intense climbing problems that test your strength, technique, and problem-solving abilities. The best bouldering climbing gyms create environments where climbers of all levels can challenge themselves, build community, and progress at their own pace.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        What sets exceptional bouldering gyms apart is their commitment to route diversity and regular setting. Top facilities reset routes weekly or biweekly, ensuring fresh challenges that keep climbers engaged. They invest in varied wall angles - from gentle slabs to aggressive overhangs - and incorporate modern features like volumes, campus boards, and spray walls. This variety helps climbers develop well-rounded skills and prevents training plateaus.
      </p>

      <h3 class="text-2xl font-bold text-granite mb-4 mt-8">Key Features of Premier Bouldering Facilities</h3>

      <p class="text-gray-700 mb-4 leading-relaxed">
        When evaluating bouldering gyms, several factors distinguish the best from the rest. First, consider the route setting quality. Elite gyms employ professional setters who create problems with intention - each move should feel purposeful and flow naturally. The best bouldering gyms balance powerful moves with technical sequences, ensuring climbers develop both strength and finesse.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Training facilities are another crucial consideration. Look for gyms equipped with hangboards, campus boards, and system walls like MoonBoards or Kilter Boards. These tools allow serious climbers to target specific weaknesses and track progress systematically. Many top bouldering facilities also offer yoga classes, stretching areas, and even saunas to support recovery and injury prevention.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Community atmosphere cannot be overstated. The best bouldering climbing gyms foster inclusive, supportive environments where beginners feel welcome and experienced climbers share knowledge freely. Regular competitions, social events, and outdoor trips help build camaraderie beyond the walls. When choosing a gym, visit during different times to gauge the community vibe and see if it aligns with your climbing goals.
      </p>

      <h3 class="text-2xl font-bold text-granite mb-4 mt-8">Bouldering Gym Amenities That Matter</h3>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Beyond the climbing walls themselves, amenities significantly impact your bouldering experience. Clean, well-maintained facilities with ample parking and convenient locations reduce friction in maintaining a consistent training schedule. Quality crash pads with adequate coverage are essential for safety and confidence when attempting challenging problems.
      </p>

      <p class="text-gray-700 mb-4 leading-relaxed">
        Many premier bouldering gyms have expanded beyond climbing to become lifestyle destinations. Full-service cafes serving specialty coffee and healthy food options let you fuel properly before and after sessions. Coworking spaces attract remote workers who appreciate flexible schedules, while retail pro shops stock the latest gear and expert staff provide valuable buying guidance. Some facilities even include infrared saunas, massage services, and childcare, making it easier to integrate climbing into your daily routine.
      </p>
    </div>
  </section>

  <!-- Comparison Table -->
  <section class="mb-16">
    <h2 class="text-3xl font-bold text-granite mb-6">Bouldering Gym Comparison</h2>
    <div class="overflow-x-auto bg-white rounded-lg shadow-md">
      <table class="w-full text-left">
        <thead class="bg-sage text-white">
          <tr>
            <th class="px-6 py-3 font-semibold">Gym Name</th>
            <th class="px-6 py-3 font-semibold">Location</th>
            <th class="px-6 py-3 font-semibold">Rating</th>
            <th class="px-6 py-3 font-semibold">Day Pass</th>
            <th class="px-6 py-3 font-semibold">Reset Frequency</th>
            <th class="px-6 py-3 font-semibold">Problems</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          {bouldingGyms.map((gym, index) => (
            <tr class={index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}>
              <td class="px-6 py-4">
                <a href={`/gyms/${gym.slug}`} class="text-sage hover:underline font-medium">
                  {gym.name}
                </a>
              </td>
              <td class="px-6 py-4 text-gray-700">
                {gym.city}, {gym.region}
              </td>
              <td class="px-6 py-4 font-medium">{gym.rating}★</td>
              <td class="px-6 py-4 text-gray-700">${gym.day_pass_price_local}</td>
              <td class="px-6 py-4 text-gray-700 capitalize">
                {gym.route_reset_frequency?.replace(/_/g, ' ') || 'N/A'}
              </td>
              <td class="px-6 py-4 text-gray-700">{gym.total_problems || 'N/A'}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="mb-16 bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-3xl font-bold text-granite mb-6">Frequently Asked Questions</h2>
    <div class="space-y-6">
      {faqs.map(faq => (
        <div>
          <h3 class="text-xl font-bold text-granite mb-2">{faq.question}</h3>
          <p class="text-gray-700 leading-relaxed">{faq.answer}</p>
        </div>
      ))}
    </div>
  </section>

  <!-- Related Categories -->
  <section class="mb-16">
    <h2 class="text-3xl font-bold text-granite mb-6">Explore More Categories</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
      <a
        href="/categories/best-climbing-gyms-for-beginners"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Beginner Friendly Gyms</h3>
        <p class="text-sm text-gray-600">Perfect for newcomers to climbing</p>
      </a>
      <a
        href="/categories/climbing-gyms-with-sauna"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Gyms with Sauna</h3>
        <p class="text-sm text-gray-600">Recovery and relaxation amenities</p>
      </a>
      <a
        href="/categories/affordable-climbing-gyms"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Affordable Gyms</h3>
        <p class="text-sm text-gray-600">Budget-friendly climbing options</p>
      </a>
      <a
        href="/categories/climbing-gyms-with-kids-zone"
        class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition-shadow"
      >
        <h3 class="text-lg font-bold text-sage mb-2">Gyms with Kids Zone</h3>
        <p class="text-sm text-gray-600">Family-friendly facilities</p>
      </a>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="bg-sage text-white p-8 rounded-lg shadow-md text-center">
    <h2 class="text-3xl font-bold mb-4">Ready to Start Bouldering?</h2>
    <p class="text-lg mb-6">
      Find the perfect bouldering gym near you and begin your climbing journey today.
    </p>
    <a
      href="/search"
      class="inline-block bg-white text-sage px-8 py-3 rounded-lg font-bold hover:bg-opacity-90 transition-colors"
    >
      Search All Gyms
    </a>
  </section>
</BaseLayout>
