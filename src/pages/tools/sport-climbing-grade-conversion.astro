---
/**
 * Sport Climbing Grade Conversion Tool
 * Interactive converter with YDS, French, and UIAA grades
 * Unique gym vs outdoor grade adjustment feature
 */

export const prerender = true;

import BaseLayout from '../../layouts/BaseLayout.astro';
import GradeSearchBar from '../../components/tools/GradeSearchBar.astro';
import GymOutdoorToggle from '../../components/tools/GymOutdoorToggle.astro';
import ConversionResults from '../../components/tools/ConversionResults.astro';
import ConversionTable from '../../components/tools/ConversionTable.astro';
import AffiliateBlock from '../../components/AffiliateBlock.astro';

// Import sport climbing grades data
import sportGrades from '../../data/sport-grades.json';
import { AFFILIATE_PRODUCTS } from '../../data/affiliateProducts';

// SEO
const title = "Sport Climbing Grade Converter (Free) | YDS to French";
const description = "Free sport climbing grade converter: YDS, French, UIAA & British. Instant conversion 5.0-5.15d. Compare outdoor vs gym grades.";
const canonical = "https://www.indoorclimbinggym.com/tools/sport-climbing-grade-conversion";

// Breadcrumbs
const breadcrumbs = [
  { label: 'Home', url: '/' },
  { label: 'Tools', url: '/tools' },
  { label: 'Sport Climbing Grade Conversion', url: '/tools/sport-climbing-grade-conversion' },
];

// Structured data for Tool
const toolSchema = {
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Sport Climbing Grade Conversion Tool",
  "description": "Free tool to convert sport climbing grades between YDS (Yosemite Decimal System), French, and UIAA grading systems with gym vs outdoor adjustments",
  "url": canonical,
  "applicationCategory": "UtilityApplication",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "featureList": [
    "YDS to French conversion",
    "YDS to UIAA conversion",
    "Gym vs outdoor grade adjustment",
    "Confidence indicators for accuracy",
    "Full reference table (5.4 to 5.15d)"
  ]
};

// FAQ Schema
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is the YDS grading system?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The Yosemite Decimal System (YDS) is the most common sport climbing grading system in North America, ranging from 5.4 (beginner) to 5.15d (world's hardest). It uses numbers with letter grades (a, b, c, d) at 5.10 and above for more granular difficulty ratings."
      }
    },
    {
      "@type": "Question",
      "name": "What is the difference between 5.10a and French 6a?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "5.10a and French 6a are equivalent grades in different systems. 5.10a is the American YDS grade, while 6a is the French sport climbing grade. They represent the same approximate difficulty level - intermediate sport climbing requiring consistent training and good technique."
      }
    },
    {
      "@type": "Question",
      "name": "Are gym grades softer than outdoor grades for sport climbing?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, indoor gym grades are typically 1 grade softer than outdoor grades at beginner to intermediate levels (5.7-5.11). For example, a gym 5.10a might be closer to outdoor 5.9. Advanced grades (5.12+) tend to be more consistent between gym and outdoor climbing."
      }
    },
    {
      "@type": "Question",
      "name": "How do YDS letter grades work (a, b, c, d)?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Starting at 5.10, the YDS system adds letter grades (a, b, c, d) to create finer distinctions. For example: 5.10a → 5.10b → 5.10c → 5.10d → 5.11a. Each letter represents a meaningful difficulty increase, roughly equivalent to 1-2 V-grades in bouldering or half a French grade."
      }
    }
  ]
};

const schemas = [toolSchema, faqSchema];
---

<BaseLayout
  title={title}
  description={description}
  canonical={canonical}
  ogType="website"
  keywords={[
    'sport climbing grades',
    'yds converter',
    'french sport grades',
    'uiaa grades',
    'climbing grade conversion',
    '5.10a to french',
    'rope climbing difficulty',
    'gym vs outdoor grades'
  ]}
  schema={schemas}
  breadcrumbs={breadcrumbs}
>
  <!-- Full-Width Hero Section -->
  <section class="w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] -mt-8 bg-gradient-to-br from-sage/20 via-ivory to-sage/5 py-20 md:py-32 overflow-hidden">
    <!-- Decorative background elements -->
    <div class="absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(#98a48b_1px,transparent_1px)] [background-size:20px_20px]"></div>
    
    <div class="container mx-auto px-4 relative z-10 text-center">
      <span class="inline-block py-1 px-3 rounded-full bg-sage/10 text-sage font-bold text-sm tracking-wide uppercase mb-6">
        Free Utility
      </span>
      <h1 class="text-5xl md:text-6xl font-bold text-granite mb-6 leading-tight">
        Sport Climbing <span class="text-sage relative inline-block">
          Converter
          <svg class="absolute w-full h-3 -bottom-1 left-0 text-sage/30" viewBox="0 0 100 10" preserveAspectRatio="none">
            <path d="M0 5 Q 50 10 100 5" stroke="currentColor" stroke-width="8" fill="none" />
          </svg>
        </span>
      </h1>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed">
        Convert between YDS, French, and UIAA grades instantly.
        <span class="block mt-2 text-lg opacity-80">Our unique tool accounts for gym vs outdoor grade differences for rope climbing.</span>
      </p>
    </div>
  </section>

  <!-- Tool Section (Overlapping Card) -->
  <section class="container mx-auto px-4 -mt-20 relative z-20 mb-20">
    <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl border border-gray-100 p-8 md:p-12">
      <!-- Search Bar -->
      <div class="mb-8">
        <GradeSearchBar
          gradeData={sportGrades}
          placeholder="Enter grade (e.g., 5.10a, 6b+, VII)"
          id="sport-search"
        />
      </div>

      <!-- Gym/Outdoor Toggle -->
      <div class="mb-10">
        <GymOutdoorToggle id="sport-environment" defaultValue="gym" />
      </div>

      <!-- Results (initially hidden, shown after grade selection) -->
      <div id="results-container" class="hidden animate-in fade-in slide-in-from-bottom-4 duration-500">
        <ConversionResults gradeData={null} isGym={true} />
      </div>

      <!-- CTA after conversion -->
      <div id="cta-after-conversion" class="hidden mt-10 p-8 bg-sage/5 border border-sage/20 rounded-2xl text-center">
        <p class="text-xl font-bold text-granite mb-2">
          Ready to put these grades into practice?
        </p>
        <p class="text-gray-600 mb-6">Find the best climbing gyms near you.</p>
        <a
          href="/search/"
          class="inline-flex items-center justify-center px-8 py-4 bg-sage text-white font-bold rounded-xl hover:bg-sage/90 transition-all shadow-lg hover:shadow-sage/30 transform hover:-translate-y-0.5"
        >
          Find Climbing Gyms Near You →
        </a>
      </div>
    </div>
  </section>

  <!-- Educational Content -->
  <section class="content-section py-16">
    <div class="container mx-auto px-4 max-w-4xl">
      <div class="prose prose-lg prose-headings:text-granite prose-p:text-gray-600 prose-a:text-sage hover:prose-a:text-sage/80 max-w-none">
        
        <!-- How to Use -->
        <div class="mb-16">
          <h2 class="text-3xl font-bold text-granite mb-6">How to Use This Converter</h2>
          <p class="text-gray-600 leading-relaxed mb-6">
            Converting sport climbing grades has never been easier. Simply type any grade into the search bar above - whether it's a YDS grade like "5.10a", a French grade like "6b+", or a UIAA grade like "VII". Our intelligent search will find the grade instantly and show you all equivalent grades across all three major systems.
          </p>
          <div class="bg-gradient-to-r from-sage/5 to-transparent border-l-4 border-sage p-6 rounded-r-xl my-8">
            <h3 class="text-xl font-bold text-granite mb-2 !mt-0">The Gym vs Outdoor Toggle</h3>
            <p class="text-gray-700 !mb-0">
               This is where our tool stands out. Indoor climbing gyms typically set grades 1 level softer than outdoor climbing at beginner to intermediate levels (5.7-5.11). Toggle between "Indoor Gym" and "Outdoor" to see adjusted grades. For example, climbing 5.10a at your gym might be closer to outdoor 5.9 - and that's completely normal!
            </p>
          </div>
          
           <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-10">
             <div class="bg-gray-50 rounded-xl p-6 border border-gray-100">
                <h3 class="font-bold text-granite mb-4 flex items-center gap-2 text-lg !mt-0">
                   <svg class="w-5 h-5 text-sage" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                   Smart Features
                </h3>
                <ul class="space-y-3 text-sm text-gray-600 !pl-0 !my-0 list-none">
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                    <span><strong>Autocomplete suggestions</strong> appear as you type</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                    <span><strong>Keyboard navigation</strong> with arrow keys (↑↓)</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                    <span><strong>Confidence indicators</strong> show accuracy</span>
                  </li>
                </ul>
             </div>
             <div class="bg-gray-50 rounded-xl p-6 border border-gray-100">
                <h3 class="font-bold text-granite mb-4 flex items-center gap-2 text-lg !mt-0">
                   <svg class="w-5 h-5 text-sage" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                   Helpful Tools
                </h3>
                 <ul class="space-y-3 text-sm text-gray-600 !pl-0 !my-0 list-none">
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                    <span><strong>Copy button</strong> saves conversions</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                    <span><strong>Full reference table</strong> at the bottom</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                    <span><strong>Gym/Outdoor adjustment</strong> built-in</span>
                  </li>
                </ul>
             </div>
          </div>
        </div>

        <AffiliateBlock
          title="Moving from gym to outdoor lead climbing?"
          subtitle="You'll need your own belay device and harness. Here's what gyms recommend for sport climbing transitions."
          products={[
            AFFILIATE_PRODUCTS.find(p => p.id === 'petzl-grigri'),
            AFFILIATE_PRODUCTS.find(p => p.id === 'petzl-corax-harness'),
          ].filter(Boolean)}
          count={2}
        />

        <!-- Visual Grade Comparison Chart -->
        <div class="bg-white rounded-2xl shadow-xl border border-gray-100 p-8 md:p-10 mb-20 overflow-hidden">
          <h2 class="text-3xl font-bold text-granite mb-8 text-center flex items-center justify-center gap-3">
            <span class="w-10 h-10 bg-sage/10 rounded-full flex items-center justify-center text-sage">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
            </svg>
            </span>
            <span>Quick Grade Comparison</span>
          </h2>
          <div class="overflow-x-auto">
            <table class="w-full text-left border-collapse">
              <thead>
                <tr class="border-b-2 border-gray-100">
                  <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">Level</th>
                  <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">YDS</th>
                  <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">French</th>
                  <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">UIAA</th>
                  <th class="px-6 py-4 text-xs font-bold text-gray-500 uppercase tracking-wider">% of Climbers</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-100">
                <tr class="hover:bg-gray-50/50 transition-colors">
                  <td class="px-6 py-5"><span class="inline-block px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold uppercase tracking-wide">Beginner</span></td>
                  <td class="px-6 py-5 font-bold text-gray-900">5.4 - 5.9</td>
                  <td class="px-6 py-5 text-gray-600">3 - 5b</td>
                  <td class="px-6 py-5 text-gray-600">III - V</td>
                  <td class="px-6 py-5 text-gray-500 font-medium">~60%</td>
                </tr>
                <tr class="hover:bg-gray-50/50 transition-colors">
                  <td class="px-6 py-5"><span class="inline-block px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-bold uppercase tracking-wide">Intermediate</span></td>
                  <td class="px-6 py-5 font-bold text-gray-900">5.10a - 5.11d</td>
                  <td class="px-6 py-5 text-gray-600">6a - 7b</td>
                  <td class="px-6 py-5 text-gray-600">VI - VIII</td>
                  <td class="px-6 py-5 text-gray-500 font-medium">~30%</td>
                </tr>
                <tr class="hover:bg-gray-50/50 transition-colors">
                  <td class="px-6 py-5"><span class="inline-block px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-bold uppercase tracking-wide">Advanced</span></td>
                  <td class="px-6 py-5 font-bold text-gray-900">5.12a - 5.13d</td>
                  <td class="px-6 py-5 text-gray-600">7a+ - 8b+</td>
                  <td class="px-6 py-5 text-gray-600">VIII+ - X+</td>
                  <td class="px-6 py-5 text-gray-500 font-medium">~8%</td>
                </tr>
                <tr class="hover:bg-gray-50/50 transition-colors">
                  <td class="px-6 py-5"><span class="inline-block px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold uppercase tracking-wide">Elite</span></td>
                  <td class="px-6 py-5 font-bold text-gray-900">5.14a+</td>
                  <td class="px-6 py-5 text-gray-600">8c+</td>
                  <td class="px-6 py-5 text-gray-600">XI+</td>
                  <td class="px-6 py-5 text-gray-500 font-medium">~2%</td>
                </tr>
              </tbody>
            </table>
          </div>
          <p class="text-xs text-gray-400 mt-6 text-center uppercase tracking-wider font-medium">
            Click any grade in the search bar above to see exact conversions
          </p>
        </div>

        <!-- Understanding Sport Climbing Grade Systems -->
        <h2 class="text-3xl font-bold text-granite mb-8 mt-20 flex items-center gap-4">
          <span class="w-12 h-12 bg-sage/10 rounded-xl flex items-center justify-center text-sage flex-shrink-0">
             <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
          </svg>
          </span>
          <span>Understanding Sport Climbing Grade Systems</span>
        </h2>
        <p class="text-gray-600 leading-relaxed mb-10">
          Sport climbing uses three primary grading systems worldwide, each with its own history and regional preferences. Understanding these systems helps you climb confidently anywhere in the world and communicate effectively with other climbers.
        </p>

        <!-- YDS -->
        <div class="mb-10">
           <h3 class="text-2xl font-bold text-granite mb-4">YDS (Yosemite Decimal System)</h3>
           <p class="text-gray-600 leading-relaxed mb-4">
             The Yosemite Decimal System is the dominant system in North America and increasingly worldwide. Created in the 1930s and refined in the 1950s at Yosemite National Park, it provides a hierarchical progression: <strong>Class 1</strong> (hiking), <strong>Class 2</strong> (scrambling), <strong>Class 3</strong> (simple climbing), <strong>Class 4</strong> (exposed climbing), and <strong>Class 5</strong> (technical roped climbing).
           </p>
           <p class="text-gray-600 leading-relaxed mb-4">
             For sport climbing, we focus on Class 5, which ranges from <strong>5.0</strong> (easiest) to <strong>5.15d</strong> (currently the world's hardest). The system uses <strong>letter grades (a, b, c, d)</strong> starting at 5.10 to create finer distinctions: <strong>5.10a → 5.10b → 5.10c → 5.10d → 5.11a</strong>. Before 5.10, grades use whole numbers only (5.4, 5.5, 5.6, etc.).
           </p>
           <p class="text-gray-600 leading-relaxed mb-4">
             The system is open-ended, meaning new grades (5.16a, etc.) can be added as climbing difficulty progresses. You'll occasionally see <strong>+/- modifiers</strong> (e.g., 5.10a+, 5.11b-) used informally to indicate routes on the border between letter grades, though this isn't part of the official standard.
           </p>
           <div class="bg-gray-50 p-6 rounded-xl border border-gray-100">
             <p class="font-bold text-granite mb-3 text-sm uppercase tracking-wide">YDS Grade Ranges:</p>
             <ul class="space-y-2 text-gray-600 text-sm !pl-0 !my-0 list-none">
               <li><strong class="text-gray-900">5.4-5.9:</strong> Beginner (60% of gym climbers)</li>
               <li><strong class="text-gray-900">5.10a-5.11d:</strong> Intermediate (30% of gym climbers)</li>
               <li><strong class="text-gray-900">5.12a-5.13d:</strong> Advanced (8% of gym climbers)</li>
               <li><strong class="text-gray-900">5.14a+:</strong> Elite (2% of gym climbers, professional level)</li>
             </ul>
           </div>
        </div>

        <!-- French System -->
        <div class="mb-10">
           <h3 class="text-2xl font-bold text-granite mb-4">French Sport Grades</h3>
           <p class="text-gray-600 leading-relaxed mb-4">
             The French system is the international standard for sport climbing, used throughout Europe and increasingly worldwide. It uses a combination of numbers (1-9) and letters (a, b, c) with optional plus signs: <strong>3 → 4 → 4+ → 5a → 5b → 5c → 6a → 6a+ → 6b...</strong> up to <strong>9c</strong> (currently the world's hardest).
           </p>
           <p class="text-gray-600 leading-relaxed mb-4">
             French grades are the standard in Europe and are increasingly used worldwide alongside the YDS. Many climbers find French grades more granular at mid-levels (the YDS groups 6a, 6a+, and 6b into just 5.10a, 5.10b, and 5.10c). The system provides clearer progression feedback with its consistent use of the plus sign (+) throughout all difficulty levels.
           </p>
           <p class="text-gray-600 leading-relaxed mb-6">
             <strong>Key difference:</strong> French grades make finer distinctions across all levels. Where the YDS might jump from 5.11b to 5.11c, French breaks this into 6c → 6c+ → 7a, giving climbers more specific feedback on progression and making smaller victories more visible.
           </p>
        </div>

        <!-- UIAA Grades -->
        <div class="mb-10">
           <h3 class="text-2xl font-bold text-granite mb-4">UIAA Grading System</h3>
           <p class="text-gray-600 leading-relaxed mb-4">
             The UIAA (International Climbing and Mountaineering Federation) system uses Roman numerals with +/- modifiers: <strong>III → IV → V → VI → VII...</strong> up to <strong>XII+</strong>. Originally developed in Europe for alpine and traditional climbing, it's still widely used in Germany, Austria, Switzerland, and Eastern Europe.
           </p>
           <p class="text-gray-600 leading-relaxed mb-4">
             UIAA grades emphasize the <em>technical difficulty of the hardest move</em> rather than overall sustained difficulty. This makes them particularly useful for describing powerful, technical routes with one desperate crux versus sustained endurance climbs. However, UIAA grades are less common for pure sport climbing outside of Central Europe.
           </p>
           <p class="text-gray-600 leading-relaxed mb-6">
             <strong>Conversion note:</strong> UIAA grades rarely extend beyond XII+ because the system wasn't designed for modern sport climbing's extreme difficulty. Elite routes (5.15a+/9b+) typically don't have UIAA equivalents.
           </p>
        </div>

        <!-- British Trad Warning -->
        <div class="bg-yellow-50 border border-yellow-200 p-8 rounded-xl mb-16">
          <h3 class="font-bold text-granite mb-3 text-lg flex items-center gap-2">
             <svg class="w-5 h-5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
             Important: British Trad Grades
          </h3>
          <p class="text-gray-700 mb-3 text-sm">
            British traditional climbing uses a <strong>two-part grading system</strong> (e.g., E3 5c) that combines overall seriousness with technical difficulty. This system <strong>cannot be directly converted</strong> to sport climbing grades because it accounts for factors like:
          </p>
          <ul class="list-disc pl-5 text-gray-600 space-y-1 text-sm mb-4">
            <li>Protection quality (gear placements, runouts)</li>
            <li>Psychological difficulty (risk of serious injury)</li>
            <li>Route seriousness (fall consequences, objective hazards)</li>
          </ul>
          <p class="text-gray-700 text-sm font-medium">
            A British E5 6b trad route might have the same technical crux as a sport 6b, but the grade also reflects the mental game and danger. Our converter focuses on sport climbing systems only.
          </p>
        </div>

        <!-- Why Grades Are Confusing -->
        <h2 class="text-3xl font-bold text-granite mb-8 mt-20 flex items-center gap-4">
           <span class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-500 flex-shrink-0">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
           </span>
          <span>Why Are Sport Climbing Grades Confusing?</span>
        </h2>
        
        <div class="bg-orange-50 border border-orange-200 p-8 rounded-xl mb-10">
          <p class="text-orange-900 font-medium leading-relaxed !my-0">
            If you've ever wondered why the 5.10a at your gym feels easier than outdoor 5.10a, or why different gyms grade routes differently, you're experiencing one of climbing's most frustrating realities: <strong>grades are subjective and inconsistent</strong>.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8">
           <div>
              <h3 class="text-xl font-bold text-granite mb-3">1. Three Different Systems</h3>
              <p class="text-gray-600 leading-relaxed text-sm">
                Unlike many sports with a single universal standard, sport climbing has three competing systems (YDS, French, UIAA), each popular in different regions. Converting between them introduces uncertainty because they don't map perfectly 1:1.
              </p>
           </div>
           <div>
              <h3 class="text-xl font-bold text-granite mb-3">2. Letter Grade Complexity</h3>
              <p class="text-gray-600 leading-relaxed text-sm">
                The YDS letter system (a, b, c, d) adds complexity. Is 5.10d closer to 5.11a or 5.10c? Different setters interpret this differently. French grades avoid this with their consistent a/b/c/+ system.
              </p>
           </div>
           <div>
              <h3 class="text-xl font-bold text-granite mb-3">3. Endurance vs Power</h3>
              <p class="text-gray-600 leading-relaxed text-sm">
                Sport climbing grades balance technical difficulty, endurance, and power. A pumpy 5.11a might feel harder than a powerful 5.11c depending on your personal strengths (endurance vs power).
              </p>
           </div>
           <div>
              <h3 class="text-xl font-bold text-granite mb-3">4. Personal Strengths</h3>
              <p class="text-gray-600 leading-relaxed text-sm">
                Your height, reach, flexibility, and training history dramatically affect how hard grades feel. A tall climber might find a reachy 5.11a easy, while a shorter climber might struggle.
              </p>
           </div>
        </div>

        <div class="bg-sage/5 border border-sage/20 p-6 rounded-xl mt-10 mb-16 flex items-start gap-4">
          <svg class="w-6 h-6 text-sage mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div>
            <p class="font-bold text-granite mb-1 text-sm uppercase tracking-wide">The Bottom Line</p>
            <p class="text-gray-600 text-sm">
              Use grades as a <strong>general guideline</strong>, not an absolute measure. Focus on your own progression, enjoy the climbing, and don't stress too much about whether something "should" feel like 5.11a or 5.11b. The journey matters more than the number.
            </p>
          </div>
        </div>

        <!-- Gym vs Outdoor -->
        <h2 class="text-3xl font-bold text-granite mb-8 mt-20 flex items-center gap-4">
           <span class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center text-green-600 flex-shrink-0">
             <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
           </span>
          <span>Gym vs Outdoor Grades</span>
        </h2>
        
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-8 mb-10">
          <p class="text-gray-600 leading-relaxed mb-6">
            This is the secret every experienced climber knows: <strong class="text-green-700">gym grades are intentionally softer than outdoor grades at beginner to intermediate levels</strong>. This isn't a mistake or inconsistency - it's a deliberate design choice by gym owners and route setters.
          </p>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
             <div>
               <h3 class="font-bold text-granite mb-3">Why are gym grades softer?</h3>
               <ul class="space-y-2 text-sm text-gray-600 !pl-0 !my-0 list-none">
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-400 mt-2 flex-shrink-0"></span>
                    <span><strong>Encourage progression</strong> and build confidence</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-400 mt-2 flex-shrink-0"></span>
                    <span><strong>Perfect conditions</strong> (consistent friction, no weather)</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-400 mt-2 flex-shrink-0"></span>
                    <span><strong>Engineered holds</strong> designed for optimal grip</span>
                  </li>
               </ul>
             </div>
             <div>
                <h3 class="font-bold text-granite mb-3">Transitioning Outdoors</h3>
                <ul class="space-y-2 text-sm text-gray-600 !pl-0 !my-0 list-none">
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-orange-400 mt-2 flex-shrink-0"></span>
                    <span><strong>Drop 1 grade</strong> for your first trip</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-orange-400 mt-2 flex-shrink-0"></span>
                    <span><strong>Expect variable texture</strong> and hidden holds</span>
                  </li>
                  <li class="flex items-start gap-2">
                    <span class="w-1.5 h-1.5 rounded-full bg-orange-400 mt-2 flex-shrink-0"></span>
                    <span><strong>Clipping & route finding</strong> is much harder outdoors</span>
                  </li>
               </ul>
             </div>
          </div>
        </div>

        <div class="overflow-x-auto rounded-xl border border-gray-100 shadow-sm mb-16">
          <table class="w-full text-left">
            <thead class="bg-gray-50 border-b border-gray-100">
              <tr>
                <th class="px-6 py-4 font-semibold text-gray-700">Grade Range</th>
                <th class="px-6 py-4 font-semibold text-gray-700">Gym Grade</th>
                <th class="px-6 py-4 font-semibold text-gray-700">Outdoor Equivalent</th>
                <th class="px-6 py-4 font-semibold text-gray-700">Gap</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-100 bg-white">
              <tr class="hover:bg-gray-50/50">
                <td class="px-6 py-4 text-gray-600">Beginner</td>
                <td class="px-6 py-4 font-semibold text-gray-900">5.7-5.9</td>
                <td class="px-6 py-4 text-gray-600">5.6-5.8</td>
                <td class="px-6 py-4 text-orange-600 font-medium">-1 grade</td>
              </tr>
              <tr class="hover:bg-gray-50/50">
                <td class="px-6 py-4 text-gray-600">Intermediate</td>
                <td class="px-6 py-4 font-semibold text-gray-900">5.10a-5.11d</td>
                <td class="px-6 py-4 text-gray-600">5.9-5.11b</td>
                <td class="px-6 py-4 text-orange-600 font-medium">-1 grade</td>
              </tr>
              <tr class="hover:bg-gray-50/50">
                <td class="px-6 py-4 text-gray-600">Advanced</td>
                <td class="px-6 py-4 font-semibold text-gray-900">5.12a-5.13d</td>
                <td class="px-6 py-4 text-gray-600">5.12a-5.13d</td>
                <td class="px-6 py-4 text-green-600 font-medium">Consistent</td>
              </tr>
              <tr class="hover:bg-gray-50/50">
                <td class="px-6 py-4 text-gray-600">Elite</td>
                <td class="px-6 py-4 font-semibold text-gray-900">5.14a+</td>
                <td class="px-6 py-4 text-gray-600">5.14a+</td>
                <td class="px-6 py-4 text-green-600 font-medium">Consistent</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Regional Variations -->
        <h2 class="text-3xl font-bold text-granite mb-8 mt-20">Regional Grading Variations</h2>
        <p class="text-gray-600 leading-relaxed mb-8">
          Even within a single grading system, standards vary by region and climbing area. Understanding these quirks helps you set appropriate expectations when traveling.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-16">
          <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
            <h3 class="text-xl font-bold text-granite mb-4">United States (YDS)</h3>
            <ul class="space-y-3 text-sm text-gray-600 !pl-0 !my-0 list-none">
              <li class="flex items-start gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                <span><strong>Yosemite, CA:</strong> Birthplace of YDS. Historically very conservative/hard grading.</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                <span><strong>Red River Gorge:</strong> Known for soft grading, especially at 5.11-5.13 range.</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                <span><strong>Rifle, CO:</strong> Elite area with accurate, modern 5.12+ grading.</span>
              </li>
            </ul>
          </div>
          <div class="bg-white p-6 rounded-xl border border-gray-100 shadow-sm">
            <h3 class="text-xl font-bold text-granite mb-4">Europe (French Grades)</h3>
            <ul class="space-y-3 text-sm text-gray-600 !pl-0 !my-0 list-none">
              <li class="flex items-start gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                <span><strong>Céüse, France:</strong> The gold standard. Routes define the system; often stiff.</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                <span><strong>Spain:</strong> (Siurana, Margalef) Generally accurate, world-class sport climbing.</span>
              </li>
              <li class="flex items-start gap-2">
                <span class="w-1.5 h-1.5 rounded-full bg-sage mt-2 flex-shrink-0"></span>
                <span><strong>Kalymnos:</strong> Holiday grading - generally considered soft and ego-boosting.</span>
              </li>
            </ul>
          </div>
        </div>

        <!-- How to Progress -->
        <h2 class="text-3xl font-bold text-granite mb-8 mt-20 flex items-center gap-4">
           <span class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 flex-shrink-0">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
          </svg>
           </span>
          <span>How to Progress</span>
        </h2>
        
        <div class="prose-p:text-gray-600">
           <p class="lead text-lg text-gray-700 font-medium mb-8">
             Understanding grade conversions is useful, but the real question is: <strong>how do you climb harder?</strong> Here's what actually works, based on decades of coaching experience.
           </p>

           <div class="space-y-12">
             <div>
               <h3 class="text-xl font-bold text-granite mb-2">1. Build Endurance First (Beginner: 5.4-5.9)</h3>
               <p class="mb-3">Limiting factor: <em>Endurance & Efficiency</em></p>
               <ul class="list-disc pl-5 space-y-1">
                 <li><strong>Aim for:</strong> 8-12 routes per session</li>
                 <li><strong>Focus on:</strong> Efficient clipping, resting on wall, pacing</li>
                 <li><strong>Avoid:</strong> Death grip, rushing, projecting too hard</li>
               </ul>
             </div>

             <div>
               <h3 class="text-xl font-bold text-granite mb-2">2. Develop Power Endurance (Intermediate: 5.10a-5.11d)</h3>
               <p class="mb-3">Limiting factor: <em>Sustained Hard Moves</em></p>
               <ul class="list-disc pl-5 space-y-1">
                 <li><strong>4x4s:</strong> Climb 4 routes back-to-back to build pump resistance</li>
                 <li><strong>Ratio:</strong> 70% onsight/flash, 30% projecting</li>
                 <li><strong>Technique:</strong> Silent feet, precise placements</li>
               </ul>
             </div>

             <div>
               <h3 class="text-xl font-bold text-granite mb-2">3. Strength and Specificity (Advanced: 5.12a-5.13d)</h3>
               <p class="mb-3">Limiting factor: <em>Finger Strength & Core Tension</em></p>
               <ul class="list-disc pl-5 space-y-1">
                 <li><strong>Periodization:</strong> Cycle power endurance, strength, and rest phases</li>
                 <li><strong>Hangboard:</strong> Max hangs for strength, repeaters for endurance</li>
                 <li><strong>Route Reading:</strong> Visualize sequences before leaving the ground</li>
               </ul>
             </div>
           </div>
        </div>

        <div class="bg-gradient-to-br from-sage/10 to-sage/5 border border-sage/20 rounded-2xl p-8 mt-12 mb-20 text-center">
          <h3 class="text-xl font-bold text-granite mb-4">Universal Progression Tips</h3>
          <div class="flex flex-wrap justify-center gap-4 text-sm text-gray-700">
            <span class="px-4 py-2 bg-white rounded-full border border-sage/20 shadow-sm">✓ Climb 2-3x per week</span>
            <span class="px-4 py-2 bg-white rounded-full border border-sage/20 shadow-sm">✓ Warm up (15-20 min)</span>
            <span class="px-4 py-2 bg-white rounded-full border border-sage/20 shadow-sm">✓ Log your sends</span>
            <span class="px-4 py-2 bg-white rounded-full border border-sage/20 shadow-sm">✓ Practice clipping</span>
            <span class="px-4 py-2 bg-white rounded-full border border-sage/20 shadow-sm">✓ Antagonist training</span>
          </div>
        </div>

        <!-- FAQ Section -->
        <h2 class="text-3xl font-bold text-granite mb-10 mt-20 text-center">Frequently Asked Questions</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-16">
          <!-- FAQ 1 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">What is YDS?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Yosemite Decimal System. Standard in North America. Uses Class 5 for climbing, adding decimals (5.10) and letters (a,b,c,d) for difficulty.
            </p>
          </div>

          <!-- FAQ 2 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">5.10a vs French 6a?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Equivalent grades. 5.10a is YDS, 6a is French. Both represent intermediate difficulty requiring consistent training.
            </p>
          </div>

          <!-- FAQ 3 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">Are gym grades softer?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Yes, typically 1 grade softer at beginner/intermediate levels (5.7-5.11). Advanced grades (5.12+) are more consistent with outdoors.
            </p>
          </div>

          <!-- FAQ 4 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">How do YDS letters work?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Starts at 5.10. a, b, c, d represent increasing difficulty. Each letter is roughly 1-2 bouldering V-grades or half a French grade.
            </p>
          </div>
          
           <!-- FAQ 5 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">YDS vs French?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              YDS uses numbers/letters (5.10a). French uses numbers/letters/+ (6a+). French is more granular at all levels.
            </p>
          </div>

          <!-- FAQ 6 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">What are UIAA grades?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Roman numerals (V, VI, VII). Used in Central Europe (Germany/Austria). Focuses on technical difficulty of hardest move.
            </p>
          </div>
          
           <!-- FAQ 7 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">Time to reach 5.11a?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Typically 1-2 years. Athletic beginners: 8-12 months. Others: 3+ years. Outdoor 5.11a takes longer, usually +6-12 months.
            </p>
          </div>

          <!-- FAQ 8 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">Why grades vary by gym?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Setter style, gym philosophy, and hold selection differ. Some use YDS, some French, some hybrid. Learn your gym's style.
            </p>
          </div>
          
           <!-- FAQ 9 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">Trust gym grades outdoors?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
               Drop 1 grade outdoors (e.g., gym 5.10c -> outdoor 5.10a). Outdoors requires route-finding, efficient clipping, and mental toughness.
            </p>
          </div>

          <!-- FAQ 10 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">Beginner grade?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Start at 5.4-5.6. Reach 5.8-5.9 in 3-6 months. Focus on endurance and resting, not just max difficulty.
            </p>
          </div>
          
           <!-- FAQ 11 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">Is 5.12a elite?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              It's advanced. Top 5-8% of gym climbers. Elite starts at 5.13a (French 8a). 5.12a is a major milestone.
            </p>
          </div>

          <!-- FAQ 12 -->
          <div class="bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-lg font-bold text-granite mb-3">French 7a to YDS?</h3>
            <p class="text-sm text-gray-600 leading-relaxed">
              Approx. 5.11c/d. Advanced grade requiring dedicated training.
            </p>
          </div>
        </div>

        <!-- Link to Bouldering Converter -->
        <div class="bg-white border border-sage/20 rounded-2xl p-8 md:p-12 text-center shadow-lg hover:shadow-xl transition-all relative overflow-hidden group">
          <div class="absolute inset-0 bg-gradient-to-br from-sage/5 to-transparent opacity-50 group-hover:opacity-100 transition-opacity"></div>
          <div class="relative z-10">
             <h3 class="text-2xl font-bold text-granite mb-3">Looking for Bouldering Grades?</h3>
             <p class="text-gray-600 mb-8 max-w-lg mx-auto">
               We also have a comprehensive V-Scale to Font conversion tool for bouldering grades.
             </p>
             <a
               href="/tools/bouldering-grade-conversion/"
               class="inline-block px-8 py-4 bg-sage text-white font-bold rounded-xl hover:bg-sage/90 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5"
             >
               Switch to Bouldering Converter →
             </a>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Full Conversion Table -->
  <section class="table-section py-20">
    <div class="container mx-auto px-4 max-w-6xl">
      <div class="bg-white rounded-2xl shadow-xl border border-gray-100 p-8 md:p-12">
        <ConversionTable
          gradeData={sportGrades}
          title="Complete Sport Climbing Grade Reference"
          id="full-sport-table"
        />
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="bg-granite text-white py-16 px-4 rounded-2xl mx-4 mb-16">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        Ready to Test Your Grades?
      </h2>
      <p class="text-xl text-gray-300 mb-8">
        Find the best climbing gyms near you and put your skills to the test on real routes.
      </p>
      <a
        href="/search/"
        class="inline-flex items-center justify-center px-8 py-4 bg-sage text-white font-bold text-lg rounded-xl hover:bg-sage/90 transition-all shadow-lg hover:shadow-xl"
      >
        Find Climbing Gyms
        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </a>
    </div>
  </section>
</BaseLayout>

<script>
  // Client-side interactivity for grade conversion
  import sportGradesData from '../../data/sport-grades.json';

  // State
  let selectedGrade: any = null;
  let isGym = true;

  // DOM elements
  const searchInput = document.getElementById('sport-search') as HTMLInputElement;
  const environmentToggle = document.getElementById('sport-environment') as HTMLInputElement;
  const resultsContainer = document.getElementById('results-container');
  const ctaAfterConversion = document.getElementById('cta-after-conversion');

  // Listen for grade selection
  document.addEventListener('gradeSelected', (e: any) => {
    const gradeKey = e.detail.grade.toLowerCase().replace(/\s+/g, '');
    selectedGrade = sportGradesData[gradeKey];

    if (selectedGrade) {
      updateResults();
    }
  });

  // Listen for environment change
  document.addEventListener('environmentChanged', (e: any) => {
    isGym = e.detail.environment === 'gym';

    if (selectedGrade) {
      updateResults();
    }
  });

  // Update results display
  function updateResults() {
    if (!selectedGrade || !resultsContainer) return;

    // Show containers
    resultsContainer.classList.remove('hidden');
    ctaAfterConversion?.classList.remove('hidden');

    // Build results HTML
    const { display, equivalents, skill_level, description, gym_outdoor_diff } = selectedGrade;

    // Calculate adjusted grade for gym vs outdoor
    let gymNote = '';
    if (isGym && gym_outdoor_diff !== 0) {
      const adjustment = Math.abs(gym_outdoor_diff);
      // For YDS, adjustment is different
      // Parse the grade to adjust it properly
      let outdoorGrade = display;
      if (display.includes('.')) {
        const parts = display.split('.');
        const mainGrade = parseInt(parts[0]);
        const subGrade = parts[1];

        // Adjust based on gym_outdoor_diff (-1 for most beginner/intermediate)
        if (subGrade.match(/\d+[a-d]/)) {
          // Has letter grade (5.10a, 5.11b, etc)
          const numPart = subGrade.match(/\d+/)[0];
          const letterPart = subGrade.match(/[a-d]/)?.[0] || '';

          // Simple approximation: drop one letter grade
          const letters = ['a', 'b', 'c', 'd'];
          const currentLetterIndex = letters.indexOf(letterPart);

          if (currentLetterIndex > 0) {
            outdoorGrade = `${mainGrade}.${numPart}${letters[currentLetterIndex - 1]}`;
          } else {
            // If 'a', go to previous number grade 'd'
            const prevNum = parseInt(numPart) - 1;
            outdoorGrade = `${mainGrade}.${prevNum}d`;
          }
        } else {
          // No letter grade (5.4-5.9)
          const num = parseInt(subGrade);
          outdoorGrade = `${mainGrade}.${num - adjustment}`;
        }
      }

      gymNote = `
        <div class="gym-note mt-3 p-3 bg-white/10 rounded-md text-sm">
          <p class="font-medium">Indoor gym ${display} ≈ Outdoor ${outdoorGrade}</p>
        </div>
      `;
    }

    // Skill level colors
    const skillLevelColors: Record<string, string> = {
      'Beginner': 'bg-blue-100 text-blue-800',
      'Intermediate': 'bg-purple-100 text-purple-800',
      'Advanced': 'bg-orange-100 text-orange-800',
      'Elite': 'bg-red-100 text-red-800'
    };
    const skillColor = skillLevelColors[skill_level] || 'bg-gray-100 text-gray-800';

    // Build conversion cards
    let conversionsHTML = '';
    for (const [system, data] of Object.entries(equivalents) as [string, any][]) {
      const systemName = system
        .split('_')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');

      // Confidence indicator
      const confidenceConfig: Record<string, any> = {
        'high': { color: 'bg-green-100 text-green-800 border-green-300', icon: '✓', label: 'High Confidence' },
        'medium-high': { color: 'bg-green-100 text-green-700 border-green-300', icon: '✓', label: 'High Confidence' },
        'medium': { color: 'bg-yellow-100 text-yellow-800 border-yellow-300', icon: '≈', label: 'Approximate' },
        'medium-low': { color: 'bg-orange-100 text-orange-800 border-orange-300', icon: '≈', label: 'Approximate' },
        'low': { color: 'bg-orange-100 text-orange-900 border-orange-400', icon: '~', label: 'Subjective' },
        'very-low': { color: 'bg-red-100 text-red-900 border-red-400', icon: '~', label: 'Highly Variable' }
      };
      const confidence = confidenceConfig[data.confidence] || confidenceConfig['medium'];

      const noteHTML = data.note ? `
        <div class="regional-note p-3 bg-ivory rounded-md mt-3">
          <p class="text-sm text-gray-700">
            <span class="font-semibold">Note:</span> ${data.note}
          </p>
        </div>
      ` : '';

      conversionsHTML += `
        <div class="conversion-card bg-white border-2 border-gray-200 rounded-lg p-5 hover:shadow-lg hover:border-sage transition-all">
          <div class="system-name text-sm font-semibold text-gray-500 mb-2">
            ${systemName}
          </div>
          <div class="grade-value text-3xl font-bold text-granite mb-3">
            ${data.value}
          </div>
          <div class="mb-3">
            <span class="inline-flex items-center gap-1.5 font-medium rounded-full border ${confidence.color} text-xs px-2 py-0.5">
              <span>${confidence.icon}</span>
              <span>${confidence.label}</span>
            </span>
          </div>
          ${noteHTML}
        </div>
      `;
    }

    resultsContainer.innerHTML = `
      <div class="conversion-results mt-8 mb-8">
        <!-- Selected grade header -->
        <div class="results-header bg-sage text-white rounded-lg p-6 mb-6 text-center">
          <div class="flex items-center justify-center gap-3 mb-2 flex-wrap">
            <h3 class="text-4xl md:text-5xl font-bold">${display}</h3>
            <span class="skill-badge px-3 py-1 rounded-full text-sm font-semibold ${skillColor}">
              ${skill_level}
            </span>
          </div>
          <p class="text-lg text-white/90">${description}</p>
          ${gymNote}
        </div>

        <!-- Conversion cards -->
        <div class="conversions-grid grid grid-cols-1 md:grid-cols-2 gap-4">
          ${conversionsHTML}
        </div>
      </div>
    `;

    // Smooth scroll to results
    resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }
</script>

<style>
  .conversion-card {
    transition: all 200ms ease;
  }

  .conversion-card:hover {
    border-color: #98a48b; /* sage */
    transform: translateY(-2px);
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .results-header h3 {
      font-size: 2.5rem;
    }

    .conversions-grid {
      gap: 1rem;
    }
  }
</style>